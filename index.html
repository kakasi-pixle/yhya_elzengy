<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Game</title>
<style>
body{margin:0;overflow:hidden;background:#001022;font-family:Arial}
canvas{display:block}
button{
 background:#00e6ff;color:#001022;
 border:none;border-radius:14px;
 padding:14px 30px;font-size:22px;
 margin:10px;cursor:pointer
}
.menu{
 position:fixed;top:0;left:0;
 width:100%;height:100%;
 display:flex;flex-direction:column;
 justify-content:center;align-items:center;
 background:#001022;z-index:10
}
h1{color:white;margin-bottom:30px}
label{color:white;font-size:20px}
input[type=range]{width:200px}
#back{position:fixed;top:20px;left:20px}
</style>
</head>
<body>

<div id="mainMenu" class="menu">
 <h1>مرحبًا في اللعبة</h1>
 <button onclick="startGame()">ابدأ</button>
 <button onclick="openSkins()">اسكنات</button>
 <button onclick="openSettings()">إعدادات</button>
</div>

<div id="skinsMenu" class="menu" style="display:none">
 <h1>اختر شكل السفينة</h1>
 <button onclick="setSkin(0)">شكل 1</button>
 <button onclick="setSkin(1)">شكل 2</button>
 <button onclick="setSkin(2)">شكل 3</button>
 <button id="back" onclick="back()">رجوع</button>
</div>

<div id="settingsMenu" class="menu" style="display:none">
 <h1>الإعدادات</h1>
 <label>سرعة السفينة: <span id="speedVal">5</span></label>
 <input type="range" min="1" max="10" value="5" id="speedRange">
 <button id="back" onclick="back()">رجوع</button>
</div>

<canvas id="game"></canvas>

<script>
const canvas=document.getElementById("game")
const ctx=canvas.getContext("2d")
canvas.width=innerWidth
canvas.height=innerHeight

let gameStarted=false
let speed=5
let skin=0

const player={x:canvas.width/2,y:canvas.height-120}

document.getElementById("speedRange").oninput=e=>{
 speed=e.target.value
 document.getElementById("speedVal").innerText=speed
}

function startGame(){
 document.getElementById("mainMenu").style.display="none"
 gameStarted=true
}

function openSkins(){
 document.getElementById("mainMenu").style.display="none"
 document.getElementById("skinsMenu").style.display="flex"
}

function openSettings(){
 document.getElementById("mainMenu").style.display="none"
 document.getElementById("settingsMenu").style.display="flex"
}

function back(){
 document.getElementById("skinsMenu").style.display="none"
 document.getElementById("settingsMenu").style.display="none"
 document.getElementById("mainMenu").style.display="flex"
}

function setSkin(s){
 skin=s
 back()
}

let keys={}
onkeydown=e=>keys[e.key]=true
onkeyup=e=>keys[e.key]=false

function update(){
 if(!gameStarted)return

 if(keys["ArrowLeft"])player.x-=speed
 if(keys["ArrowRight"])player.x+=speed
 if(keys["ArrowUp"])player.y-=speed
 if(keys["ArrowDown"])player.y+=speed

 player.x=Math.max(30,Math.min(canvas.width-30,player.x))
 player.y=Math.max(30,Math.min(canvas.height-30,player.y))
}

function drawShip(){
 ctx.save()
 ctx.translate(player.x,player.y)

 if(skin===0){
  ctx.fillStyle="#00e6ff"
  ctx.beginPath()
  ctx.moveTo(0,-35)
  ctx.lineTo(28,30)
  ctx.lineTo(-28,30)
  ctx.closePath()
  ctx.fill()
 }

 if(skin===1){
  ctx.fillStyle="#ff00ff"
  ctx.beginPath()
  ctx.arc(0,0,25,0,Math.PI*2)
  ctx.fill()
 }

 if(skin===2){
  ctx.strokeStyle="#00ff88"
  ctx.lineWidth=5
  ctx.beginPath()
  ctx.moveTo(-30,30)
  ctx.lineTo(0,-35)
  ctx.lineTo(30,30)
  ctx.stroke()
 }

 ctx.restore()
}

function draw(){
 ctx.clearRect(0,0,canvas.width,canvas.height)
 if(gameStarted)drawShip()
}

function loop(){
 update()
 draw()
 requestAnimationFrame(loop)
}
loop()
</script>
</body>
</html>
